<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corrida no Parque!</title>
    
    <style>
        /* --- Configura√ß√£o da Tela --- */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; /* Evita barras de rolagem */
            font-family: Arial, sans-serif;
        }

        body {
            /* Fundo de c√©u e grama */
            background: linear-gradient(to bottom, #87CEEB 0%, #90EE90 100%);
        }

        /* --- O Placar --- */
        #placar {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            font-size: 1.5em;
            font-weight: bold;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        /* --- Os Cachorrinhos --- */
        .doggo {
            width: 100px; /* Tamanho reduzido para caberem 2 */
            height: 100px;
            position: absolute; 
            border-radius: 50%; 
            object-fit: cover; 
            border: 4px solid white; 
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            /* Transi√ß√£o suave para quando o power-up acabar */
            transition: filter 0.5s ease;
        }

        /* --- O Power-Up (Biscoito!) --- */
        #powerup {
            width: 50px;
            height: 50px;
            position: absolute;
            background-color: #f0e68c; /* Cor de biscoito */
            border: 3px solid #d2b48c;
            border-radius: 10px;
            z-index: 5;
            text-align: center;
            line-height: 50px;
            font-size: 2em;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            /* Escondido por padr√£o at√© o JS o posicionar */
            display: none; 
        }

    </style>
</head>
<body>

    <div id="placar">Placar: üê∂1 (0) - üê∂2 (0)</div>

    <img class="doggo" id="doggo1" src="https://placedog.net/100/100?random=1" alt="Cachorrinho 1">
    <img class="doggo" id="doggo2" src="https://placedog.net/100/100?random=2" alt="Cachorrinho 2">

    <div id="powerup">ü¶¥</div>


    <script>
        // --- 1. Sele√ß√£o dos Elementos ---
        const placarEl = document.getElementById('placar');
        const powerupEl = document.getElementById('powerup');

        // --- 2. Estado dos "Jogadores" (Cachorrinhos) ---
        // Usar objetos √© a melhor forma de gerenciar m√∫ltiplos elementos
        let dog1 = {
            el: document.getElementById('doggo1'),
            x: 50,
            y: 50,
            dx: 2,
            dy: 3,
            baseSpeed: { dx: 2, dy: 3 }, // Guardamos a velocidade original
            score: 0,
            temPowerUp: false
        };

        let dog2 = {
            el: document.getElementById('doggo2'),
            x: 150,
            y: 100,
            dx: -3,
            dy: 2,
            baseSpeed: { dx: -3, dy: 2 },
            score: 0,
            temPowerUp: false
        };

        // --- 3. Fun√ß√µes Auxiliares ---

        /** Atualiza o placar na tela */
        function atualizarPlacar() {
            placarEl.textContent = `Placar: üê∂1 (${dog1.score}) - üê∂2 (${dog2.score})`;
        }

        /** Move o power-up para uma posi√ß√£o aleat√≥ria */
        function moverPowerup() {
            // Posi√ß√£o aleat√≥ria, garantindo que n√£o saia da tela
            const newX = Math.random() * (window.innerWidth - powerupEl.clientWidth);
            const newY = Math.random() * (window.innerHeight - powerupEl.clientHeight);

            powerupEl.style.left = newX + 'px';
            powerupEl.style.top = newY + 'px';
            powerupEl.style.display = 'block'; // Mostra o power-up
        }

        /** Verifica colis√£o entre um cachorro e um item (o power-up) */
        function checarColisao(dog, itemEl) {
            // Pega a posi√ß√£o atual do item
            let itemX = parseFloat(itemEl.style.left);
            let itemY = parseFloat(itemEl.style.top);

            // L√≥gica de colis√£o de "caixa" (AABB - Axis-Aligned Bounding Box)
            return (
                dog.x < itemX + itemEl.clientWidth &&
                dog.x + dog.el.clientWidth > itemX &&
                dog.y < itemY + itemEl.clientHeight &&
                dog.y + dog.el.clientHeight > itemY
            );
        }

        /** Aplica o efeito de power-up no cachorro */
        function aplicarPowerUp(dog) {
            if (dog.temPowerUp) return; // Se j√° tiver, n√£o faz nada

            dog.temPowerUp = true;
            
            // Dobra a velocidade
            dog.dx *= 2; 
            dog.dy *= 2;

            // Efeito visual (brilho)
            dog.el.style.filter = 'drop-shadow(0 0 15px yellow) saturate(2)';

            // Esconde o power-up e agenda para ele voltar
            powerupEl.style.display = 'none';
            setTimeout(moverPowerup, 3000); // Biscoito volta em 3 segundos

            // Remove o power-up do cachorro ap√≥s 2.5 segundos
            setTimeout(() => {
                dog.temPowerUp = false;
                dog.el.style.filter = ''; // Remove o brilho
                
                // Retorna √† velocidade base (mantendo a dire√ß√£o atual)
                dog.dx = Math.sign(dog.dx) * Math.abs(dog.baseSpeed.dx);
                dog.dy = Math.sign(dog.dy) * Math.abs(dog.baseSpeed.dy);
            }, 2500); // Dura√ß√£o do power-up
        }


        /** Fun√ß√£o que atualiza a posi√ß√£o de UM cachorro */
        function updateDog(dog) {
            // Atualiza as posi√ß√µes
            dog.x += dog.dx;
            dog.y += dog.dy;

            // Aplica as novas posi√ß√µes no estilo da imagem
            dog.el.style.left = dog.x + 'px';
            dog.el.style.top = dog.y + 'px';

            // --- Verifica√ß√£o de Colis√£o com as Bordas ---
            
            let colidiu = false;

            // Borda direita (largura da janela) OU borda esquerda (0)
            if (dog.x + dog.el.clientWidth >= window.innerWidth || dog.x <= 0) {
                dog.dx = -dog.dx; // Inverte a dire√ß√£o horizontal
                colidiu = true;
            }

            // Borda inferior (altura da janela) OU borda superior (0)
            if (dog.y + dog.el.clientHeight >= window.innerHeight || dog.y <= 0) {
                dog.dy = -dog.dy; // Inverte a dire√ß√£o vertical
                colidiu = true;
            }

            // Atualiza o placar se houve colis√£o
            if (colidiu) {
                dog.score++;
                atualizarPlacar();
            }
        }


        // --- 4. O Loop Principal de Anima√ß√£o ---
        function animar() {
            // Atualiza o estado de cada cachorro
            updateDog(dog1);
            updateDog(dog2);

            // Verifica se algum cachorro pegou o power-up
            if (powerupEl.style.display === 'block') {
                if (checarColisao(dog1, powerupEl)) {
                    aplicarPowerUp(dog1);
                } else if (checarColisao(dog2, powerupEl)) {
                    aplicarPowerUp(dog2);
                }
            }
            
            // Continua o loop
            requestAnimationFrame(animar);
        }

        // --- 5. In√≠cio ---
        atualizarPlacar(); // Define o placar inicial (0-0)
        moverPowerup(); // Coloca o primeiro biscoito na tela
        animar(); // Inicia o loop de anima√ß√£o
    </script>
</body>
</html>
